# 3. build_dashboard_html.py 사용 가이드

## 개별 보고서 생성 기능 추가 완료

### 사용 방법

#### 1. 전체 보고서 생성 (기존과 동일)
```bash
python "3. build_dashboard_html.py"
```
- 출력: `서울아산병원 협업평가 결과.html`
- 모든 부서의 데이터를 포함하는 전체 보고서

#### 2. 특정 부서 보고서 생성
```bash
python "3. build_dashboard_html.py" --department "인사팀" --division "관리부문"
```
- 출력: `서울아산병원 협업평가 결과_인사팀.html`
- 해당 부서의 데이터만 포함하는 개별 보고서

#### 3. 모든 부서 개별 보고서 생성
```bash
python "3. build_dashboard_html.py" --all-departments
```
- 출력: `개별보고서/부문명/부서명.html` 형태로 모든 부서 보고서 생성
- 부문별로 폴더가 자동 생성됨

### 주요 변경사항

1. **기존 기능 완전 보존**
   - 파라미터 없이 실행하면 기존과 동일하게 전체 보고서 생성
   - 모든 UI와 차트가 그대로 유지됨

2. **부서별 보고서 기능 추가**
   - team_reports.py의 개별 보고서 생성 로직 도입
   - 해당 부서 데이터만 포함하여 보안성 강화
   - 부서명이 제목에 표시되고 데이터 범위 안내 추가

3. **새로 추가된 함수들**
   - `get_all_departments()`: 전체 부서 목록 추출
   - `calculate_aggregated_data_for_department()`: 부서별 집계 데이터 계산
   - `prepare_department_filtered_data()`: 부서별 필터링된 데이터 준비
   - `generate_all_department_reports()`: 모든 부서 보고서 일괄 생성

### 도움말 확인
```bash
python "3. build_dashboard_html.py" --help
```

### 주의사항
- 부서명과 부문명은 정확하게 입력해야 합니다
- 부서별 보고서는 해당 부서의 피평가 데이터만 포함합니다
- 모든 부서 보고서 생성 시 시간이 소요될 수 있습니다