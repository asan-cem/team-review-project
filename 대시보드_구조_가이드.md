# 서울아산병원 협업평가 대시보드 구조 가이드

> 협업평가 시스템에서 생성되는 HTML 대시보드의 구조와 기능 설명

**생성 스크립트**: `1. 대시보드_연도_반기.py`  
**출력 파일**: `서울아산병원 협업평가 결과.html` 또는 `협업평가 결과_반기별.html`

---

## 📚 목차

1. [대시보드 개요](#대시보드-개요)
2. [대시보드 구조](#대시보드-구조)
3. [섹션별 상세 설명](#섹션별-상세-설명)
4. [필터 기능](#필터-기능)
5. [차트 타입](#차트-타입)
6. [데이터 표시 항목](#데이터-표시-항목)
7. [사용 방법](#사용-방법)

---

## 🎯 대시보드 개요

서울아산병원 협업평가 대시보드는 의료진 간 협업 피드백을 시각화하는 인터랙티브 HTML 대시보드입니다.

### 주요 특징

- ✅ **인터랙티브 차트**: Plotly 기반 대화형 차트
- ✅ **다양한 필터**: 연도, 부문, 부서, Unit, 문항별 필터링
- ✅ **감정 분석**: AI 기반 감정 분석 결과 시각화
- ✅ **협업 후기**: 실제 협업 후기 텍스트 표시
- ✅ **통계 정보**: 응답 건수, 평균 점수 등 통계 표시

### 평가 문항

1. **존중배려**: 타 부서의 입장을 존중하고 배려하여 협력해주며, 협업 관련 의견을 경청해준다.
2. **정보공유**: 업무상 필요한 정보에 대해 공유가 잘 이루어진다.
3. **명확처리**: 업무에 대한 명확한 담당자가 있고 업무를 일관성있게 처리해준다.
4. **태도개선**: 이전보다 업무 협력에 대한 태도나 의지가 개선되고 있다.
5. **전반만족**: 전반적으로 협업에 대해 만족한다.
6. **종합점수**: 위 5개 문항의 평균 점수

---

## 📊 대시보드 구조

### 전체 구조

```
서울아산병원 협업평가 결과 대시보드
│
├── 헤더 (제목, 생성일시, 데이터 범위)
├── 안내 문구 (평가 문항 설명, 통계적 해석 주의사항)
│
├── 1. 병원 전체 결과
│   └── 연도별 점수 추이 차트
│
├── 2. 부문별 종합 점수
│   └── 부문 간 점수 비교 차트
│
├── 3. 소속 부문 결과
│   └── 부문별 연도별 점수 추이 차트
│
├── 4. 소속 부문 팀별 종합 점수
│   └── 부문 내 팀별 점수 비교 차트
│
├── 5. 부서/Unit 결과
│   ├── 5.1 부서/Unit 결과
│   │   ├── 주요 지표 (응답 건수, 평균 점수 등)
│   │   └── 연도별 비교 차트
│   ├── 5.2 부서 내 Unit 결과
│   │   └── Unit별 점수 비교 차트
│   └── 5.3 평가 부서 의견
│       ├── 감정 분석 차트
│       └── 협업 후기 테이블
│
└── 6. 다빈도 평가 부서 (전체 모드만)
    ├── 6.1 다빈도 평가 부서 차트
    ├── 6.2 협업 관계 현황
    ├── 6.3 협업 관계 변화 트렌드
    └── 6.4 협업 후기
```

---

## 📋 섹션별 상세 설명

### 1. 병원 전체 결과

**목적**: 병원 전체의 협업 평가 점수 추이를 연도별로 확인

**표시 내용**:
- 연도별 점수 추이 (선 그래프)
- 문항별 점수 (6개 문항: 존중배려, 정보공유, 명확처리, 태도개선, 전반만족, 종합점수)

**필터**:
- 문항 선택 (다중 선택 가능)

**차트 타입**: 
- 시계열 선 그래프 (Line Chart)
- 연도별 데이터 포인트

---

### 2. 부문별 종합 점수

**목적**: 부문 간 협업 평가 점수를 비교

**표시 내용**:
- 선택한 연도의 부문별 종합 점수
- 부문 간 점수 비교

**필터**:
- 연도 선택
- 부문 선택 (다중 선택 가능)

**차트 타입**:
- 막대 그래프 (Bar Chart) 또는 레이더 차트

---

### 3. 소속 부문 결과

**목적**: 특정 부문의 연도별 점수 추이 확인

**표시 내용**:
- 선택한 부문의 연도별 점수 추이
- 문항별 점수 비교

**필터**:
- 부문 선택
- 문항 선택 (다중 선택 가능)

**차트 타입**:
- 시계열 선 그래프 (Line Chart)

---

### 4. 소속 부문 팀별 종합 점수

**목적**: 부문 내 팀들의 점수를 비교하여 순위 확인

**표시 내용**:
- 선택한 연도 및 부문의 팀별 종합 점수
- 팀별 순위

**필터**:
- 연도 선택
- 부문 선택

**차트 타입**:
- 가로 막대 그래프 (Horizontal Bar Chart)
- 점수순 정렬

---

### 5. 부서/Unit 결과

**목적**: 특정 부서/Unit의 상세 분석

#### 5.1 부서/Unit 결과

**표시 내용**:
- 주요 지표 (Metrics)
  - 응답 건수
  - 평균 점수
  - 최고/최저 점수
- 연도별 점수 추이 차트

**필터**:
- 연도 선택
- 부서 선택
- Unit 선택
- 문항 선택 (다중 선택 가능)

**차트 타입**:
- 시계열 선 그래프 (Line Chart)

#### 5.2 부서 내 Unit 결과

**표시 내용**:
- 선택한 부서 내 Unit들의 점수 비교
- Unit별 점수 분포

**필터**:
- 연도 선택
- 부서 선택
- Unit 선택 (해당 부서의 Unit만 표시)
- 문항 선택

**차트 타입**:
- 막대 그래프 (Bar Chart) 또는 박스 플롯 (Box Plot)

#### 5.3 평가 부서 의견

**표시 내용**:
- 감정 분석 차트
  - 감정 분류별 비율 (긍정, 부정, 중립, 기타)
  - 감정 강도 점수 분포
- 협업 후기 테이블
  - 연도별 협업 후기 텍스트
  - 감정 분류 표시

**필터**:
- 연도 선택
- 부서 선택
- Unit 선택
- 감정 분류 필터 (다중 선택 가능)
  - 긍정
  - 부정
  - 중립
  - 기타

**차트 타입**:
- 파이 차트 (Pie Chart) - 감정 분류 비율
- 바 차트 (Bar Chart) - 감정 강도 점수

---

### 6. 다빈도 평가 부서 (전체 모드만)

**목적**: 협업이 많이 발생하는 부서들을 분석

**표시 조건**: 전체 병원 모드에서만 표시 (부서별 모드에서는 숨김)

#### 6.1 다빈도 평가 부서

**표시 내용**:
- 평가 횟수가 많은 부서 순위
- 부서별 평가 횟수

**필터**:
- 연도 선택
- 부문 선택
- 부서 선택
- Unit 선택
- 평가 횟수 기준 (5회 이상, 10회 이상, 30회 이상)

**차트 타입**:
- 막대 그래프 (Bar Chart) - 평가 횟수순 정렬

#### 6.2 협업 관계 현황

**표시 내용**:
- 협업 관계 네트워크 다이어그램
- 점수 구간별 분류
  - 🏆 우수 (75점 이상)
  - ✅ 양호 (60점 이상 75점 미만)
  - ⚠️ 개선 필요 (60점 미만)

**필터**:
- 연도 선택
- 부문 선택
- 부서 선택
- Unit 선택
- 평가 횟수 기준

**차트 타입**:
- 네트워크 그래프 (Network Graph) 또는 히트맵 (Heatmap)

#### 6.3 협업 관계 변화 트렌드

**표시 내용**:
- 선택한 부서/Unit의 협업 관계 변화 추이
- 연도별 점수 변화

**필터**:
- 연도 선택
- 부문 선택
- 부서 선택
- Unit 선택
- 평가 횟수 기준

**차트 타입**:
- 시계열 선 그래프 (Line Chart)

#### 6.4 협업 후기

**표시 내용**:
- 다빈도 평가 부서의 협업 후기
- 연도별 후기 텍스트

**필터**:
- 연도 선택
- 부문 선택
- 부서 선택
- Unit 선택
- 평가 횟수 기준

**표시 형식**:
- 테이블 (Table)

---

## 🔍 필터 기능

### 필터 타입

1. **단일 선택 필터**
   - 연도 선택
   - 부문 선택
   - 부서 선택
   - Unit 선택

2. **다중 선택 필터 (Expander)**
   - 문항 선택 (존중배려, 정보공유, 명확처리, 태도개선, 전반만족, 종합점수)
   - 부문 선택 (부문별 종합 점수 섹션)
   - 감정 분류 필터 (긍정, 부정, 중립, 기타)

3. **범위 선택 필터**
   - 평가 횟수 기준 (5회 이상, 10회 이상, 30회 이상)

### 필터 동작 방식

- 필터 변경 시 차트가 자동으로 업데이트
- 여러 필터를 조합하여 원하는 데이터만 표시
- 필터 초기값: 모든 항목 선택 (전체 데이터 표시)

---

## 📈 차트 타입

### 1. 선 그래프 (Line Chart)
- **용도**: 시계열 데이터 표시 (연도별 추이)
- **사용 섹션**: 병원 전체 결과, 소속 부문 결과, 부서/Unit 결과

### 2. 막대 그래프 (Bar Chart)
- **용도**: 범주별 데이터 비교
- **사용 섹션**: 부문별 종합 점수, 소속 부문 팀별 종합 점수, 다빈도 평가 부서

### 3. 가로 막대 그래프 (Horizontal Bar Chart)
- **용도**: 항목이 많은 경우 가독성 향상
- **사용 섹션**: 소속 부문 팀별 종합 점수

### 4. 파이 차트 (Pie Chart)
- **용도**: 비율 표시
- **사용 섹션**: 감정 분석 차트

### 5. 박스 플롯 (Box Plot)
- **용도**: 데이터 분포 표시
- **사용 섹션**: 부서 내 Unit 결과 (선택적)

### 6. 네트워크 그래프 (Network Graph)
- **용도**: 관계 시각화
- **사용 섹션**: 협업 관계 현황

### 7. 히트맵 (Heatmap)
- **용도**: 2차원 데이터 시각화
- **사용 섹션**: 협업 관계 현황 (선택적)

---

## 📊 데이터 표시 항목

### 주요 지표 (Metrics)

- **응답 건수**: 해당 부서/Unit에 대한 평가 응답 수
- **평균 점수**: 모든 문항의 평균 점수
- **최고 점수**: 가장 높은 점수
- **최저 점수**: 가장 낮은 점수
- **표준편차**: 점수의 분산 정도

### 감정 분석 데이터

- **감정 분류**: 긍정, 부정, 중립, 기타
- **감정 강도 점수**: 1-10점 척도
- **신뢰도 점수**: AI 분석의 신뢰도

### 협업 후기

- **후기 텍스트**: 실제 협업 후기 내용
- **연도**: 후기가 작성된 연도
- **감정 분류**: 후기의 감정 분류

---

## 💻 사용 방법

### 기본 사용법

1. **HTML 파일 열기**
   - 생성된 HTML 파일을 웹 브라우저로 열기
   - Chrome, Firefox, Edge 등 모든 모던 브라우저 지원

2. **필터 사용**
   - 각 섹션의 필터를 사용하여 원하는 데이터만 표시
   - 필터 변경 시 차트가 자동으로 업데이트

3. **차트 인터랙션**
   - 마우스 오버: 데이터 포인트의 상세 정보 표시
   - 줌: 차트 영역을 드래그하여 확대
   - 범례 클릭: 데이터 시리즈 표시/숨김
   - 더블 클릭: 차트 리셋

4. **협업 후기 확인**
   - 부서/Unit 결과 섹션의 "협업 후기" 테이블에서 실제 후기 확인
   - 감정 분류 필터로 원하는 감정의 후기만 표시

### 고급 사용법

1. **데이터 내보내기**
   - Plotly 차트의 툴바에서 데이터 내보내기 가능
   - PNG, SVG, HTML 형식으로 저장

2. **인쇄**
   - 브라우저의 인쇄 기능 사용
   - 인쇄 시 차트가 이미지로 변환됨

3. **공유**
   - HTML 파일 자체를 공유
   - 또는 스크린샷으로 공유

---

## ⚠️ 주의사항

### 통계적 해석 주의사항

- **응답 건수 30건 미만**: 통계적 해석에 유의
- **표본 크기**: 응답 건수가 적을수록 통계적 신뢰도 감소
- **비교 분석**: 동일한 조건에서 비교해야 함 (연도, 부문, 부서 등)

### 데이터 범위

- **연도 범위**: 2022년 ~ 2025년
- **반기 구분**: 2025년은 상반기/하반기 구분 가능 (--split 옵션)
- **부서/Unit**: 실제 데이터에 존재하는 부서/Unit만 표시

### 성능

- **대용량 데이터**: 데이터가 많을 경우 차트 로딩 시간 증가
- **브라우저 성능**: 구형 브라우저에서는 성능 저하 가능
- **인터넷 연결**: CDN 모드의 경우 인터넷 연결 필요 (Standalone 모드 사용 시 불필요)

---

## 🔧 기술 스택

### 프론트엔드

- **Plotly.js**: 인터랙티브 차트 라이브러리
- **Vanilla JavaScript**: 필터 및 인터랙션 처리
- **HTML/CSS**: 레이아웃 및 스타일링

### 백엔드 (데이터 처리)

- **Python**: 데이터 처리 및 HTML 생성
- **Pandas**: 데이터 분석
- **Plotly (Python)**: 차트 생성

---

## 📞 문의 및 지원

### 문제 발생 시

1. **차트가 표시되지 않음**
   - 브라우저 콘솔에서 오류 확인
   - 인터넷 연결 확인 (CDN 모드)
   - 또는 Standalone 모드로 재생성

2. **데이터가 표시되지 않음**
   - 필터 설정 확인
   - 데이터 파일 확인 (`rawdata/2. text_processor_결과_*.xlsx`)

3. **성능 문제**
   - 브라우저 캐시 정리
   - 다른 브라우저에서 시도
   - 데이터 범위 축소

---

**문서 끝**

